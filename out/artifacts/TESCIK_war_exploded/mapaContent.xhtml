<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:view>
    <script src="https://maps.google.com/maps/api/js?" type="text/javascript"></script>
    <body onload="mapaStart()">
    <script type="text/javascript">
        <!--
        var mapa; // obiekt globalny
        var dymek = new google.maps.InfoWindow();

        function mapaStart()
        {
            var wspolrzedne = new google.maps.LatLng(50.470223, 20.718976);
            var opcjeMapy = {
                zoom: 15,
                center: wspolrzedne,
                mapTypeId: google.maps.MapTypeId.HYBRID,
                disableDefaultUI: true
            };
            mapa = new google.maps.Map(document.getElementById("mapka"), opcjeMapy);
            dodajMarker(new google.maps.LatLng(50.470507, 20.718449),'Plac Zwyciestwa');
            dodajMarker(new google.maps.LatLng(50.466419, 20.719670),'Al.Mickiewicza Urzad Miasta');
            dodajMarker(new google.maps.LatLng(50.461258, 20.719947),'Al.Mickiewicza Kino');
            dodajMarker(new google.maps.LatLng(50.466625, 20.714040),'Os. Pulaskiego Skatepark');
            dodajMarker(new google.maps.LatLng(50.475888, 20.702816),'Langiewicza, Sciezka');
            dodajMarker(new google.maps.LatLng(50.485533, 20.707936),'Szaniecka, Sciezka');
            dodajMarker(new google.maps.LatLng(50.469526, 20.726591),'Plywalnia');
            dodajMarker(new google.maps.LatLng(50.467297, 20.729943),'Os. Sikorskiego');
            dodajMarker(new google.maps.LatLng(50.456590, 20.722281),'1 Maja, Uzdrowiska');
            dodajMarker(new google.maps.LatLng(50.469684, 20.707540),'os. Pilsudskiego, Szpital');
            dodajMarker(new google.maps.LatLng(50.453005, 20.723649), 'ul. Starkiewicza, Sciezka');
            dodajMarker(new google.maps.LatLng(50.476074, 20.724480),'Stawowa, Zimne Wody');


        }

        function dodajMarker(wspolrzedne,tytul)
        {
            var marker = new google.maps.Marker({
                position: wspolrzedne,
                title: tytul,
                map: mapa
            });
            google.maps.event.addListener(marker,'click',function() {
                var pos = mapa.getZoom();
                mapa.setZoom(17);
                mapa.setCenter(marker.getPosition());
                window.setTimeout(function () {mapa.setZoom(pos);},12000);
            });
        }
        -->
    </script>
    <div id="mapka" style="width: 700px; height: 500px; border: 1px solid black; background: gray;">
        <!-- tu będzie mapa -->
    </div>
    <p id="info">
        Kliknij na marker, by przybliżyć mapę.
    </p>
    <h:form>

        <h4>Lista punktów z dostępnymi rowerami</h4>

        <h:dataTable id="countRowerByPunkt" value="#{rowerNamed.countRowerByPunkt}" var="c">
            <h:column>
                <f:facet name="header">Adres</f:facet>
                #{c[0]}
            </h:column>
            <h:column>
                <f:facet name="header">Ilosc stojakow</f:facet>
                #{c[1]}
            </h:column>
            <h:column>
                <f:facet name="header">Dostepne rowery</f:facet>
                #{c[2]}
            </h:column>
        </h:dataTable>
    </h:form>
    </body>
</f:view>
</html>
